<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High Score</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <style>
        li {
            display: flex;
            align-items: center;
        }
    </style>
</head>

<body>

    <main>
        <h1>High Scores</h1>
        <ul id="high-score-list"></ul>
        <ul id="score-buttons">
            <li>
                <a href="index.html" class="option" id="go-back-btn">Go back</a>
            </li>
            <li>
                <button type="button" class="option" id="clear-btn">Clear high scores</button>
            </li>
        </ul>
    </main>
    <script>
        var loadScores = function() {
            // get scores and initials from localStorage
            debugger;
            var savedInitialsAndScores = localStorage.getItem("initialsAndScores");
            savedInitialsAndScores = JSON.parse(savedInitialsAndScores);
            console.log("savedInitialsAndScores = " + savedInitialsAndScores);
           
            var highScoreList = document.getElementById('high-score-list');

            // iterate through the scores and create initial-score elements on the page from it
            for (i = 0; i < savedInitialsAndScores.length; i++) {
                var scoreLiEl = document.createElement("li");
                scoreLiEl.className = 'option';
                scoreLiEl.textContent = savedInitialsAndScores[i].inits + ": " + savedInitialsAndScores[i].sco;
                highScoreList.appendChild(scoreLiEl);
            } 
        }
        loadScores();
        
        
        var clearBtn = document.getElementById('clear-btn');
        var clearHighScores = function() {
            localStorage.clear();
            window.location.href = 'high-score.html';
        }
        clearBtn.addEventListener("click", clearHighScores());
        

        
    </script>
</body>
    
</html>